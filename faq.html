<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Graphite | FAQ</title>

		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">
		<meta name="keywords" content="graphite,bot,discord,discordbot,rpg,minigames,moderation,fun,automoderation,discord bot,discord music bot,music bot,multipurpose bot,discord bot command">
		<meta name="description" content="Set up Twitch, moderation, fun, role-management and music features.">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="icon" href="/img/graphite-raw.svg">
		<link rel="stylesheet" href="css/defaults.css">
		<link rel="stylesheet" href="css/faq.css">
		
		<script src="./website-data/jquery-3.6.0.min.js"></script>
		
		<script>
			let faq = [
				//[TAGS (Seperate by ,); QUESTION; ANSWER]

				//GENERAL
				["general", "Why does the bot not respond/that one command not work?", "Graphite has a module system, meaning that you can enable + disable features. By default, every module is disabled. If you want to use features like backups, reporting etc. you need to go to the webinterface, log in, select your server and enable the required module on the 'Settings' tab."],
				["general", "What is GraphiteMultiplex and how does it work?", "GraphiteMultiplex is a system that splits the various features of Graphite into multiple interconnected bots. Graphite itself is still the main bot. Any changes (apart from prefix) you make on the webinterface for the main bot will still apply to the sub-bots."],
				["general", "Where did the messages in my backup/my chatreports go?", "To comply with Discord's guidelines, we need to store all messages in encrypted form for a maximum of 30 days total. All messages in backups, as well as any chat reports wil automatically be deleted after 30 days."],
				["general", "Why are some roles/members not visible on the webinterface?", "You may not see some roles/members because Graphite can't interact with them. Make sure you give Graphite admin permissions on invite and that the Graphite role is above all user roles, because Graphite can't interact with the roles above it."],
				["general", "I have donated but the features do not work", "It can take several minutes minutes until you can use all donator features of Graphite, please be patient. If you feel like you've been waiting too long for the features to become available, please contact us on the support Discord server."],

				//BACKUP
				["backup", "How do I clone a backup?", "Login with the target guild. Click the clone button at the top. Select the guild you want to clone from. Select the target guild backup. Click clone on the backup item. Select parameters and click clone. Note: Messages will only be restored/cloned if you have the decryption key."],
				["backup", "How many messages will be saved?", "If you create a backup the bot saves 100 messages per channel. You can restore these messages by using the /backup restore command or by using the text-based restore command and attaching the decryption key. Messages will automatically be deleted after 30 days."],

				//SCRIPT
				["scripting", "What does 'Block scripts' mean?", "Messages sent to you via GraphiteScript will have a 'Block scripts' link in the message footer. By clicking on this link you can prevent specific scripts from sending you direct messages."]
			];

			$(() => {
				let c = document.getElementById("faq-container");
				let tgs = document.getElementById("tags");
				let fTags = [];

				for(let i of faq){
					let item = document.createElement("div");
					item.classList.add("faq-item");

					let title = document.createElement("h1");
					title.innerText = i[1];
					item.appendChild(title);

					let content = document.createElement("a");
					content.text = i[2];
					item.appendChild(content);

					let tags = document.createElement("div");
					tags.classList.add("faq-tags");
					item.appendChild(tags);

					for(let tag of i[0].split(",")){
						let t = document.createElement("a");
						t.classList.add("faq-tag");
						t.text = tag;
						tags.appendChild(t);

						if(!fTags.includes(tag)) fTags.push(tag);
					}

					c.appendChild(item);
				}

				for(let tag of fTags){
					let t = document.createElement("a");
					t.classList.add("faq-head-tag");
					t.text = tag;
					t.addEventListener('click', () => {
						if($(t).hasClass("selected")){
							$(".faq-head-tag").removeClass("selected");
							$(".faq-item").show();
							return;
						}
						for(let child of document.getElementsByClassName("faq-item")){
							let tgs = child.getElementsByClassName("faq-tag");
							$(".faq-head-tag").removeClass("selected");
							$(t).addClass("selected");
							child.style.display = Array.from(tgs).map(e => e.text).includes(tag) ? "flex" : "none";
						}
					});
					tags.appendChild(t);
				}
			});

			function search(e){
				let items = document.getElementById("faq-container");
				Array.from(items.children).find(item => {
					let titleCheck = item.children[0].innerText.toLowerCase().includes(e.value);
					let descriptionCheck = item.children[1].innerText.toLowerCase().includes(e.value)
					item.style.display = (titleCheck || descriptionCheck ? "flex" : "none");
				});
			}
		</script>
	</head>
	<body>
		<header id="header">
			<!--#include virtual="/header.html" -->
		</header>
		<main id="faq">
			<div id="faq-center">
				<input placeholder="Search..." oninput="search(this)"></input>
				<a>Note: This is a very basic FAQ to our bot Graphite. If you miss something feel free to join our Discord</a>
				<div id="actions">
					<a id="discord" href="/redirect/discord" target="_blank" rel="noopener"><img alt="Discord" src="img/discord.svg"/>Support server</a>
					<a id="documentation" href="/redirect/documentation" target="_blank" rel="noopener">Documentation</a>
				</div>
				<div id="tags"></div>
				<div id="faq-container"></div>
			</div>
		</main>
		<footer id="footer">
			<!--#include virtual="/footer.html" -->
		</footer>
	</body>
</html>