<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Graphite | Multiplex</title>

		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">
		<meta name="keywords" content="graphite,bot,discord,discordbot,rpg,minigames,moderation,fun,automoderation,discord bot,discord music bot,music bot,multipurpose bot,discord bot command">
		<meta name="description" content="Set up Twitch, moderation, fun, role-management and music features.">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="icon" href="/img/graphite-raw.svg">
		<link rel="stylesheet" href="css/defaults.css">
		<link rel="stylesheet" href="css/multiplex.css">
		
		<script src="./website-data/jquery-3.6.0.min.js"></script>
		
		<script>
			$(async () => {
				let l = document.getElementById("bots");
				fetch('/api/multiplex')
					.then(response => response.json())
					.then(json => {
						let bots = json.bots;

						for(let bot of bots){
							let item = document.createElement("div");
							item.classList.add("bot-item");
							item.onclick = () => invite(bot.invite);

							let img = document.createElement("img");
							img.alt = "Bot image";
							img.src = bot.avatar_url;
							item.appendChild(img);

							let title = document.createElement("h1");
							title.innerText = bot.name;
							item.appendChild(title);

							let desc = document.createElement("a");
							desc.text = bot.description;
							item.appendChild(desc);

							l.appendChild(item);
						}
					});
			});

			function invite(url){
				location.href = url;
			}
		</script>
	</head>
	<body>
		<header id="header">
			<!--#include virtual="/header.html" -->
		</header>
		<main id="multiplex">
			<div id="multiplex-center">
				<div id="title">
					<a>Graphite</a>
					<a>Multiplex</a>
				</div>
				<div id="description">
					GraphiteMultiplex is a system that splits the various features of Graphite into multiple interconnected bots. Graphite itself is still the main bot. Any changes (apart from prefix) you make on the webinterface for the main bot will still apply to the sub-bots.
				</div>
				<div id="bots"><!--JS--></div>
			</div>
		</main>
		<footer id="footer">
			<!--#include virtual="/footer.html" -->
		</footer>
	</body>
</html>
